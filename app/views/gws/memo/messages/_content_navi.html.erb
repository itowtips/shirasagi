<% return unless @folders %>

<div id="content-navi">
  <h2 class="content-navi-title"><%= t('gws/memo/message.folder') %></h2>
  <table class="index gws-memo-folder">
    <thead>
    <tr>
      <th><%= t('gws/memo/message.folder_name') %></th>
    </tr>
    </thead>
    <tbody>
    <% @folders.each do |item| %>
      <% droppable = %W(INBOX.Sent INBOX.Draft #{params[:folder]}).exclude?(item.path) %>
      <tr class="folder <%= 'droppable' if droppable %> <%= 'current' if item.path == params[:folder] %>">
        <td class="<%= item.unseen? ? 'unseen' : 'seen' %>">
          <% if item.path %>
            <%= link_to item.name, gws_memo_messages_path(folder: item.path), { 'class' => 'field title', 'data-path' =>  item.path } %>
          <% else %>
            <%= link_to item.name, gws_memo_messages_path(folder: item.id), { 'class' => 'field title', 'data-path' =>  item.id } %>
          <% end %>
          <% if item.unseen? %>
            <span>(<%= item.unseens.count %>)</span>
          <% end %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>
