(function(){this.Gws_Discussion_Thread=function(){function t(){}return t.render=function(c){var r;return r=function(t,e,i){var n,a,o,r,s;return s=$("<span></span>"),o=$('<img src="/assets/img/gws/ic-file.png" alt="" />'),n=$('<a target="_blank"></a>'),r=$('<input type="hidden" name="item[file_ids][]" class="file-id" />'),a=$('<i class="material-icons md-18 md-inactive deselect">close</i>'),s.attr("data-file-id",e),s.attr("id","file-"+e),n.text(i),n.attr("href","/.u"+c+"/apis/temp_files/"+e+"/view"),r.attr("value",e),a.on("click",function(){return $(this).parent("span").remove(),$(t).find("[data-file-id]").length<=0&&$(t).hide(),!1}),s.append(o),s.append(n),s.append(a),s.append(r),$(t).show(),$(t).append(s)},$("a.ajax-box").data("on-select",function(t){var e,i,n;return n=$.colorbox.element().closest(".comment-files").find(".selected-files"),e=t.data("id"),i=t.data("humanized-name"),r(n,e,i),$.colorbox.close()}),SS_Addon_TempFile.select=function(t,o){return $(t).each(function(t,e){var i,n,a;return a=$(o).closest(".comment-files").find(".selected-files"),i=e._id,n=e.name,r(a,i,n)}),!1},SS_Addon_TempFile.renderDrop($(".comment-files .upload-drop-area"),c),$(".open-reply").on("click",function(){return $(this).closest(".addon-body").next(".reply").show(),$(this).remove(),!1}),$(".reply[data-topic]").each(function(){var t,e;return e=$(this).attr("data-topic"),t=function(){return $(".discussion-contributor"+e+" input#item_contributor_model").val($(this).data("model")),$(".discussion-contributor"+e+" input#item_contributor_id").val($(this).data("id")),$(".discussion-contributor"+e+" input#item_contributor_name").val($(this).data("name"))},$(this).find(".discussion-contributor"+e+' input[name="tmp[contributor]"]').on("change",t),$(this).find(".discussion-contributor"+e+' input[name="tmp[contributor]"]:checked').each(t)})},t}()}).call(this);